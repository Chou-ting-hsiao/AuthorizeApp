function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,o=!1,r=void 0;try{for(var c,i=t[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!e||n.length!==e);a=!0);}catch(l){o=!0,r=l}finally{try{a||null==i.return||i.return()}finally{if(o)throw r}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{XpXM:function(t,e,n){"use strict";n.r(e),n.d(e,"MainModule",(function(){return ue}));var a,o,r=n("ofXK"),c=n("3Pt+"),i=n("tyNb"),l=n("fXoL"),s=((a=function(){function t(e){_classCallCheck(this,t),this.router=e}return _createClass(t,[{key:"canActivate",value:function(){var t=localStorage.getItem("UserRole"),e=t&&t.length>0;return e?console.log("Role:"+t):(console.log("Not Login"),this.router.navigate(["/Login"])),e}}]),t}()).\u0275fac=function(t){return new(t||a)(l.Yb(i.a))},a.\u0275prov=l.Kb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),u=n("eIep"),d=n("lJxs"),m=n("HDdC"),b=n("d3yR"),f=n("uHsu"),g=((o=function(){function t(e,n,a){_classCallCheck(this,t),this.router=e,this.menuService=n,this.groupProgramService=a}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=this;return new m.a((function(t){var a=!1;n.menuService.getAll().pipe(Object(u.a)((function(t){return n.groupProgramService.getAll().pipe(Object(d.a)((function(e){return{menus:t,groupPrograms:e}})))}))).subscribe((function(o){var r=o.menus,c=o.groupPrograms,i=localStorage.getItem("UserGroup"),l=e.url.split("/")[2],s=r.filter((function(t){return t.linkTag===l}));s[0]&&s[0].program.length>0&&(a=c.filter((function(t){return t.group===i&&t.program===s[0].program})).length>0),a||(console.log("Not Auth"),n.router.navigate(["/401"])),t.next(a),t.complete()}))}))}}]),t}()).\u0275fac=function(t){return new(t||o)(l.Yb(i.a),l.Yb(b.a),l.Yb(f.a))},o.\u0275prov=l.Kb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),p=n("ohih"),h=n("NJLX"),v=n("Wp6s"),C=n("NFeN"),y=n("f0Cb");function D(t,e){if(1&t&&(l.Ub(0,"p"),l.Ac(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Cc(" \xa0\xa0",n.name," ")}}function k(t,e){if(1&t&&(l.Ub(0,"p"),l.Ac(1),l.Tb()),2&t){var n=e.$implicit;l.Cb(1),l.Cc(" \xa0\xa0",n.linkTag," ")}}var w,O=((w=function(){function t(e,n,a){_classCallCheck(this,t),this.groupService=e,this.roleService=n,this.groupProgramService=a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=localStorage.getItem("UserRole");this.role=this.roleService.getByRoleId(t),this.groups=this.groupService.getByAuth();var e=localStorage.getItem("UserGroup");this.groupPrograms=this.groupProgramService.getByGroupId(e)}}]),t}()).\u0275fac=function(t){return new(t||w)(l.Ob(p.a),l.Ob(h.a),l.Ob(f.a))},w.\u0275cmp=l.Ib({type:w,selectors:[["app-dashboard"]],decls:32,vars:9,consts:[[1,"container","in550-1550","theme-center"],[1,"example-card"],["mat-card-avatar",""],[1,"theme-left","container"],[4,"ngFor","ngForOf"]],template:function(t,e){var n;1&t&&(l.Ub(0,"div",0),l.Ub(1,"mat-card",1),l.Ub(2,"mat-card-header"),l.Ub(3,"mat-icon",2),l.Ac(4,"assignment_ind"),l.Tb(),l.Ub(5,"mat-card-title"),l.Ac(6,"Your Role"),l.Tb(),l.Tb(),l.Pb(7,"mat-divider"),l.Ub(8,"mat-card-content",3),l.Ub(9,"p"),l.Ac(10),l.hc(11,"async"),l.Tb(),l.Tb(),l.Tb(),l.Ub(12,"mat-card",1),l.Ub(13,"mat-card-header"),l.Ub(14,"mat-icon",2),l.Ac(15,"supervisor_account"),l.Tb(),l.Ub(16,"mat-card-title"),l.Ac(17,"Your Group"),l.Tb(),l.Tb(),l.Pb(18,"mat-divider"),l.Ub(19,"mat-card-content",3),l.zc(20,D,2,1,"p",4),l.hc(21,"async"),l.Tb(),l.Tb(),l.Ub(22,"mat-card",1),l.Ub(23,"mat-card-header"),l.Ub(24,"mat-icon",2),l.Ac(25,"airplay"),l.Tb(),l.Ub(26,"mat-card-title"),l.Ac(27,"Authorize Program"),l.Tb(),l.Tb(),l.Pb(28,"mat-divider"),l.Ub(29,"mat-card-content",3),l.zc(30,k,2,1,"p",4),l.hc(31,"async"),l.Tb(),l.Tb(),l.Tb()),2&t&&(l.Cb(10),l.Cc(" \xa0\xa0",null==(n=l.ic(11,3,e.role))?null:n.remark," "),l.Cb(10),l.lc("ngForOf",l.ic(21,5,e.groups)),l.Cb(10),l.lc("ngForOf",l.ic(31,7,e.groupPrograms)))},directives:[v.a,v.d,C.a,v.b,v.f,y.a,v.c,r.j],pipes:[r.b],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}@media screen and (max-width:550px){mat-card.example-card[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width:550px) and (max-width:1050px){.in550-1550[_ngcontent-%COMP%]   .example-card[_ngcontent-%COMP%]{width:25%}}.example-card[_ngcontent-%COMP%]{display:inline-block;width:29%;margin-left:.1em;margin-right:.1em;vertical-align:top}.container[_ngcontent-%COMP%]{margin:3%}"]}),w),T=n("XpAA"),P=n("+XYJ"),_=n("UPMS"),A=n("kt0X"),M=n("/t3+"),U=n("bTqV"),S=n("XhcP"),x=n("MutI"),I=function(t){return[t]};function R(t,e){if(1&t&&(l.Ub(0,"a",10),l.Ac(1),l.Tb()),2&t){var n=e.$implicit;l.mc("id",n.name),l.lc("routerLink",l.oc(3,I,n.linkTag)),l.Cb(1),l.Bc(n.name)}}var z,G,j,B,F,E=function(){return["Main"]},L=((z=function(){function t(e,n,a){_classCallCheck(this,t),this.router=e,this.store=n,this.menuService=a,this.title="Authorize"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.store.dispatch(new P.k(T.a.Menus)),this.store.select(T.a.Menus).subscribe((function(e){t.menus=t.menuService.getAuthMenus(Object(_.b)(e))}))}},{key:"Logout",value:function(){localStorage.clear(),this.router.navigate(["/Login"])}}]),t}()).\u0275fac=function(t){return new(t||z)(l.Ob(i.a),l.Ob(A.h),l.Ob(b.a))},z.\u0275cmp=l.Ib({type:z,selectors:[["app-main"]],decls:22,vars:7,consts:[[1,"toolbar-header","dark-theme"],["mat-icon-button","","aria-label","Menu",1,"dark-theme",3,"click"],[3,"routerLink"],[1,"toolbar-seprator"],["mat-icon-button","","aria-label","Logout",1,"dark-theme",3,"click"],[1,"toolbar-container"],["mode","side",1,"dark-theme"],["sideNav",""],["mat-list-item","","class","dark-theme",3,"id","routerLink",4,"ngFor","ngForOf"],[1,"theme-center","display-none"],["mat-list-item","",1,"dark-theme",3,"id","routerLink"]],template:function(t,e){if(1&t){var n=l.Vb();l.Ub(0,"mat-toolbar",0),l.Ub(1,"button",1),l.cc("click",(function(){return l.tc(n),l.rc(13).toggle()})),l.Ub(2,"mat-icon"),l.Ac(3),l.Tb(),l.Tb(),l.Ac(4,"\xa0 "),l.Ub(5,"span",2),l.Ac(6),l.Tb(),l.Pb(7,"span",3),l.Ub(8,"button",4),l.cc("click",(function(){return e.Logout()})),l.Ub(9,"mat-icon"),l.Ac(10,"exit_to_app"),l.Tb(),l.Tb(),l.Tb(),l.Ub(11,"mat-sidenav-container",5),l.Ub(12,"mat-sidenav",6,7),l.Ub(14,"mat-nav-list"),l.zc(15,R,2,5,"a",8),l.hc(16,"async"),l.Tb(),l.Tb(),l.Ub(17,"mat-sidenav-content"),l.Ub(18,"div",9),l.Ub(19,"span"),l.Ac(20,"Hello!!"),l.Tb(),l.Tb(),l.Pb(21,"router-outlet"),l.Tb(),l.Tb()}if(2&t){var a=l.rc(13);l.Cb(3),l.Bc(a.opened?"close":"menu"),l.Cb(2),l.lc("routerLink",l.nc(6,E)),l.Cb(1),l.Bc(e.title),l.Cb(9),l.lc("ngForOf",l.ic(16,4,e.menus))}},directives:[M.a,U.a,C.a,i.b,S.b,S.a,x.c,r.j,S.c,i.e,x.a,i.c],pipes:[r.b],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}@media screen and (max-width:900px){mat-toolbar.toolbar-header[_ngcontent-%COMP%]{height:2em}mat-sidenav-container.toolbar-container[_ngcontent-%COMP%]{margin-top:2em}}.toolbar-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:2;height:3em;box-shadow:4px 4px 12px -2px rgba(51,51,102,.5)}.toolbar-seprator[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar-container[_ngcontent-%COMP%]{position:absolute;margin-top:3em;top:0;bottom:0;left:0;right:0}"]}),z),N=n("tfvo"),H=function(t){return t.string="string",t.input="input",t.label="label",t.select="select",t.multiselect="multiselect",t}({}),$=((G=function(){function t(e,n,a,o){_classCallCheck(this,t),this.router=e,this.templateRef=n,this.viewContainer=a,this.groupProgramService=o,this.AuthorizeDictionary={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.viewContainer.createEmbeddedView(this.templateRef);var e=this.router.url.split("/")[2];this.groupProgramService.getByLink(e).subscribe((function(e){e.forEach((function(e){t.AuthorizeDictionary[e.name]=e.isEnable}))}))}},{key:"ngAfterViewChecked",value:function(){for(var t=0,e=Object.entries(this.AuthorizeDictionary);t<e.length;t++){var n=_slicedToArray(e[t],2),a=n[0];n[1]||this.templateRef.elementRef.nativeElement.ownerDocument.querySelectorAll("button#".concat(a,":not([disabled])")).forEach((function(t){t.disabled=!0}))}}}]),t}()).\u0275fac=function(t){return new(t||G)(l.Ob(i.a),l.Ob(l.M),l.Ob(l.P),l.Ob(f.a))},G.\u0275dir=l.Jb({type:G,selectors:[["","appAuthorize",""]]}),G),V=n("Dh3D"),q=n("+0xr"),X=n("M9IT"),J=n("R0Ic"),Y=((j=function t(e){_classCallCheck(this,t),this.viewContainerRef=e}).\u0275fac=function(t){return new(t||j)(l.Ob(l.P))},j.\u0275dir=l.Jb({type:j,selectors:[["","appDynamicHost",""]]}),j),K=n("kmnG"),Q=n("qFsG"),W=((F=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||F)},F.\u0275cmp=l.Ib({type:F,selectors:[["app-input"]],decls:3,vars:2,consts:[["matInput","",3,"placeholder","ngModel","ngModelChange"]],template:function(t,e){1&t&&(l.Ub(0,"mat-form-field"),l.Ub(1,"input",0),l.cc("ngModelChange",(function(t){return e.column.value=t})),l.Tb(),l.Tb(),l.Pb(2,"br")),2&t&&(l.Cb(1),l.mc("placeholder",e.column.columnDef),l.lc("ngModel",e.column.value))},directives:[K.b,Q.b,c.b,c.i,c.k],styles:[""]}),F),Z=((B=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){this.visible=this.column.visible||!0===this.column.visible?"":"none"}}]),t}()).\u0275fac=function(t){return new(t||B)},B.\u0275cmp=l.Ib({type:B,selectors:[["app-label"]],decls:3,vars:3,template:function(t,e){1&t&&(l.Ub(0,"label"),l.Ac(1),l.Tb(),l.Pb(2,"br")),2&t&&(l.yc("display",e.visible),l.Cb(1),l.Cc(" ",e.column.value,"\n"))},styles:[""]}),B),tt=n("d3UM"),et=n("FKr1");function nt(t,e){if(1&t&&(l.Ub(0,"mat-option",1),l.Ac(1),l.Tb()),2&t){var n=e.$implicit;l.lc("value",n.id),l.Cb(1),l.Cc(" ",n.name," ")}}var at,ot=((at=function(){function t(){_classCallCheck(this,t),this.default="",this.entityToArray=function(t){return Object(_.b)(t)}}return _createClass(t,[{key:"ngOnInit",value:function(){this.source=this.column.source()}}]),t}()).\u0275fac=function(t){return new(t||at)},at.\u0275cmp=l.Ib({type:at,selectors:[["app-select"]],decls:9,vars:7,consts:[[3,"ngModel","name","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(l.Ub(0,"mat-form-field"),l.Ub(1,"mat-label"),l.Ac(2),l.Tb(),l.Ub(3,"mat-select",0),l.cc("ngModelChange",(function(t){return e.column.value=t}))("selectionChange",(function(t){return e.onChanges(t)})),l.Ub(4,"mat-option",1),l.Ac(5,"--"),l.Tb(),l.zc(6,nt,2,2,"mat-option",2),l.hc(7,"async"),l.Tb(),l.Tb(),l.Pb(8,"br")),2&t&&(l.Cb(2),l.Bc(e.column.columnDef),l.Cb(1),l.mc("name",e.column.columnDef),l.lc("ngModel",e.column.value),l.Cb(1),l.lc("value",e.default),l.Cb(2),l.lc("ngForOf",e.entityToArray(l.ic(7,5,e.source))))},directives:[K.b,K.e,tt.a,c.i,c.k,et.n,r.j],pipes:[r.b],styles:[""]}),at);function rt(t,e){if(1&t&&(l.Ub(0,"mat-option",1),l.Ac(1),l.Tb()),2&t){var n=e.$implicit;l.lc("value",n.id),l.Cb(1),l.Cc(" ",n.name," ")}}var ct,it,lt=((ct=function(){function t(){_classCallCheck(this,t),this.default="",this.entityToArray=function(t){return Object(_.b)(t)}}return _createClass(t,[{key:"ngOnInit",value:function(){this.source=this.column.source()}}]),t}()).\u0275fac=function(t){return new(t||ct)},ct.\u0275cmp=l.Ib({type:ct,selectors:[["app-multiselect"]],decls:9,vars:7,consts:[["multiple","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(l.Ub(0,"mat-form-field"),l.Ub(1,"mat-label"),l.Ac(2),l.Tb(),l.Ub(3,"mat-select",0),l.cc("ngModelChange",(function(t){return e.column.value=t}))("selectionChange",(function(t){return e.onChanges(t)})),l.Ub(4,"mat-option",1),l.Ac(5,"--"),l.Tb(),l.zc(6,rt,2,2,"mat-option",2),l.hc(7,"async"),l.Tb(),l.Tb(),l.Pb(8,"br")),2&t&&(l.Cb(2),l.Bc(e.column.columnDef),l.Cb(1),l.mc("name",e.column.columnDef),l.lc("ngModel",e.column.value),l.Cb(1),l.lc("value",e.default),l.Cb(2),l.lc("ngForOf",e.entityToArray(l.ic(7,5,e.source))))},directives:[K.b,K.e,tt.a,c.i,c.k,et.n,r.j],pipes:[r.b],styles:[""]}),ct),st=n("0IaG"),ut=["content"],dt=((it=function(){function t(e){_classCallCheck(this,t),this.componenFactoryResolver=e,this.ComponentDictionary={}}return _createClass(t,[{key:"dynamicAddComponent",value:function(t){var e;switch(t.selector){case H.input:e=this.componenFactoryResolver.resolveComponentFactory(W);break;case H.select:e=this.componenFactoryResolver.resolveComponentFactory(ot);break;case H.multiselect:e=this.componenFactoryResolver.resolveComponentFactory(lt);break;default:e=this.componenFactoryResolver.resolveComponentFactory(Z)}var n=this.dynamicComponentLoader.viewContainerRef.createComponent(e),a=n.instance;a.onChanges=this.onChanges?this.onChanges:function(){},this.ComponentDictionary[t.columnDef]=a,a.column=t,n.changeDetectorRef.detectChanges()}},{key:"getData",value:function(){for(var t={},e=0,n=Object.entries(this.ComponentDictionary);e<n.length;e++){var a=_slicedToArray(n[e],2),o=a[0],r=a[1];t[o]=r.column.value}return t}}]),t}()).\u0275fac=function(t){return new(t||it)(l.Ob(l.j))},it.\u0275cmp=l.Ib({type:it,selectors:[["app-dialog"]],viewQuery:function(t,e){var n;1&t&&(l.xc(Y,!0),l.Ec(ut,!0)),2&t&&(l.qc(n=l.dc())&&(e.dynamicComponentLoader=n.first),l.qc(n=l.dc())&&(e.content=n.first))},decls:10,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],["content",""],["appDynamicHost",""],["align","end"],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(l.Ub(0,"h2",0),l.Ac(1),l.Tb(),l.Ub(2,"mat-dialog-content",1,2),l.Qb(4,3),l.Tb(),l.Ub(5,"mat-dialog-actions",4),l.Ub(6,"button",5),l.cc("click",(function(){return e.confirm()})),l.Ac(7),l.Tb(),l.Ub(8,"button",6),l.Ac(9),l.Tb(),l.Tb()),2&t&&(l.Cb(1),l.Bc(e.DialogData.title),l.Cb(6),l.Bc(e.DialogData.button[0]),l.Cb(1),l.lc("mat-dialog-close",!0),l.Cb(1),l.Bc(e.DialogData.button[1]))},directives:[st.f,st.d,Y,st.b,U.a,st.c],styles:[""]}),it);function mt(t){console.log(t.active),console.log(t.direction)}function bt(t){console.log(t)}function ft(t){var e=t.filter((function(t){return!(!1===t.visible)})).map((function(t){return t.columnDef}));return["maintain"].concat(e)}function gt(t,e){return function(n){var a=t.open(dt),o=a.componentInstance;return o.DialogData=n,o.onChanges=n.onChanges,o.confirm=n.confirm,o.ColumnArray=function(t,e){return void 0!==t&&e.forEach((function(e){e.value=t[e.columnDef]})),e}(n.data,e),o.ColumnArray.forEach((function(t){o.dynamicAddComponent(t)})),a.afterClosed().subscribe((function(t){console.log("Dialog result: "+t)})),o}}function pt(t,e){1&t&&l.Pb(0,"th",9)}function ht(t,e){if(1&t){var n=l.Vb();l.Ub(0,"td",10),l.Ub(1,"button",11),l.cc("click",(function(t){l.tc(n);var a=e.$implicit;return l.gc().edit(a,t)})),l.Ac(2,"Edit"),l.Tb(),l.Ac(3,"\xa0 "),l.Ub(4,"button",12),l.cc("click",(function(t){l.tc(n);var a=e.$implicit;return l.gc().delete(a,t)})),l.Ac(5,"Delete"),l.Tb(),l.Tb()}}function vt(t,e){if(1&t&&(l.Ub(0,"th",15),l.Ac(1),l.Tb()),2&t){var n=l.gc().$implicit;l.Cb(1),l.Bc(n.header)}}function Ct(t,e){if(1&t&&(l.Ub(0,"td",10),l.Ac(1),l.Tb()),2&t){var n=e.$implicit,a=l.gc().$implicit;l.Cb(1),l.Bc(a.cell(n))}}function yt(t,e){1&t&&(l.Sb(0,13),l.zc(1,vt,2,1,"th",14),l.zc(2,Ct,2,1,"td",4),l.Rb()),2&t&&l.mc("matColumnDef",e.$implicit.columnDef)}function Dt(t,e){1&t&&l.Pb(0,"tr",16)}function kt(t,e){1&t&&l.Pb(0,"tr",17)}var wt,Ot=function(){return[5,10,20]},Tt=((wt=function(){function t(e){_classCallCheck(this,t),this.matDialog=e,this.openDetailDialog=new l.o,this.sortData=mt,this.pageData=bt}return _createClass(t,[{key:"ngOnInit",value:function(){this.setSource()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"setSource",value:function(){var t=this;this.detail.subscribe((function(e){t.subscription=e.read().subscribe((function(e){var n=Object(_.b)(e);t.dataSource=new q.k(n),t.pageNation()})),t.create=e.create,t.edit=e.edit,t.delete=e.delete,t.displayedColumns=ft(e.columns),t.openDetailDialog.emit(gt(t.matDialog,e.columns))}))}},{key:"pageNation",value:function(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}}]),t}()).\u0275fac=function(t){return new(t||wt)(l.Ob(st.a))},wt.\u0275cmp=l.Ib({type:wt,selectors:[["app-detail"]],viewQuery:function(t,e){var n;1&t&&(l.xc(X.a,!0),l.xc(V.a,!0)),2&t&&(l.qc(n=l.dc())&&(e.paginator=n.first),l.qc(n=l.dc())&&(e.sort=n.first))},inputs:{detail:"detail"},outputs:{openDetailDialog:"openDetailDialog"},decls:13,vars:14,consts:[["id","btnAdd","mat-raised-button","",1,"dark-theme",2,"font-size","1em",3,"click"],["mat-table","","matSort","",3,"matSortActive","matSortDirection","dataSource","matSortChange"],["matColumnDef","maintain"],["mat-header-cell","","style","width: 20%;",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","page"],["mat-header-cell","",2,"width","20%"],["mat-cell",""],["id","btnEdit","mat-raised-button","","color","accent",3,"click"],["id","btnDelete","mat-raised-button","","color","warn",3,"click"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t&&(l.Ub(0,"button",0),l.cc("click",(function(){return e.create()})),l.Ac(1,"Add"),l.Tb(),l.Ub(2,"table",1),l.cc("matSortChange",(function(t){return e.sortData(t)})),l.hc(3,"async"),l.hc(4,"async"),l.Sb(5,2),l.zc(6,pt,1,0,"th",3),l.zc(7,ht,6,0,"td",4),l.Rb(),l.zc(8,yt,3,1,"ng-container",5),l.hc(9,"async"),l.zc(10,Dt,1,0,"tr",6),l.zc(11,kt,1,0,"tr",7),l.Tb(),l.Ub(12,"mat-paginator",8),l.cc("page",(function(t){return e.pageData(t)})),l.Tb()),2&t){var n,a,o,r=null==(o=l.ic(9,11,e.detail))?null:o.columns;l.Cb(2),l.mc("matSortActive",null==(n=l.ic(3,7,e.detail))?null:n.sort.active),l.mc("matSortDirection",null==(a=l.ic(4,9,e.detail))?null:a.sort.direction),l.lc("dataSource",e.dataSource),l.Cb(6),l.lc("ngForOf",r),l.Cb(2),l.lc("matHeaderRowDef",e.displayedColumns),l.Cb(1),l.lc("matRowDefColumns",e.displayedColumns),l.Cb(1),l.lc("pageSizeOptions",l.nc(13,Ot))}},directives:[U.a,q.j,V.a,q.c,q.e,q.b,r.j,q.g,q.i,X.a,q.d,q.a,V.b,q.f,q.h],pipes:[r.b],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),wt);function Pt(t,e){1&t&&l.Pb(0,"th",11)}function _t(t,e){if(1&t){var n=l.Vb();l.Ub(0,"button",16),l.cc("click",(function(){l.tc(n);var t=l.gc().$implicit,e=l.gc();return e.currentElement=e.currentElement===t?null:t})),l.Ub(1,"mat-icon"),l.Ac(2),l.Tb(),l.Tb()}if(2&t){var a=l.gc().$implicit,o=l.gc();l.Cb(2),l.Bc(a==o.currentElement?"arrow_drop_down":"arrow_right")}}function At(t,e){if(1&t){var n=l.Vb();l.Ub(0,"td",12),l.zc(1,_t,3,1,"button",13),l.Ub(2,"button",14),l.cc("click",(function(t){l.tc(n);var a=e.$implicit;return l.gc().edit(a,t)})),l.Ac(3,"Edit"),l.Tb(),l.Ac(4,"\xa0 "),l.Ub(5,"button",15),l.cc("click",(function(t){l.tc(n);var a=e.$implicit;return l.gc().delete(a,t)})),l.Ac(6,"Delete"),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(1),l.lc("ngIf",a.isHasDetail)}}function Mt(t,e){if(1&t&&(l.Ub(0,"th",19),l.Ac(1),l.Tb()),2&t){var n=l.gc().$implicit;l.Cb(1),l.Bc(n.header)}}function Ut(t,e){if(1&t&&(l.Ub(0,"td",12),l.Ac(1),l.Tb()),2&t){var n=e.$implicit,a=l.gc().$implicit;l.Cb(1),l.Bc(a.cell(n))}}function St(t,e){1&t&&(l.Sb(0,17),l.zc(1,Mt,2,1,"th",18),l.zc(2,Ut,2,1,"td",4),l.Rb()),2&t&&l.mc("matColumnDef",e.$implicit.columnDef)}function xt(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div",25),l.Ub(1,"app-detail",26),l.cc("openDetailDialog",(function(t){return l.tc(n),l.gc(3).initDetailHandler(t)})),l.hc(2,"async"),l.Tb(),l.Tb()}if(2&t){var a=l.gc().$implicit,o=l.gc(2),r=null,c=null==(r=l.ic(2,1,o.grid))?null:r.detail(a);l.Cb(1),l.lc("detail",c)}}function It(t,e){if(1&t&&(l.Ub(0,"td",22),l.Ub(1,"div",23),l.zc(2,xt,3,3,"div",24),l.Tb(),l.Tb()),2&t){var n=e.$implicit,a=l.gc(2);l.Db("colspan",a.displayedColumns.length),l.Cb(1),l.lc("@detailExpand",n==a.currentElement?"expanded":"collapsed"),l.Cb(1),l.lc("ngIf",n==a.currentElement)}}function Rt(t,e){1&t&&(l.Sb(0,20),l.zc(1,It,3,3,"td",21),l.Rb())}function zt(t,e){1&t&&l.Pb(0,"tr",27)}function Gt(t,e){1&t&&l.Pb(0,"tr",28)}function jt(t,e){1&t&&l.Pb(0,"tr",29)}var Bt,Ft=function(){return["expandedDetail"]},Et=function(){return[]},Lt=function(){return[5,10,20]},Nt=((Bt=function(){function t(e){_classCallCheck(this,t),this.matDialog=e,this.openTableDialog=new l.o,this.openDetailDialog=new l.o,this.sortData=mt,this.pageData=bt}return _createClass(t,[{key:"ngOnChanges",value:function(t){t.grid&&void 0!==this.grid&&this.setSource()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"setSource",value:function(){var t=this;this.grid.subscribe((function(e){t.subscription=e.read().subscribe((function(e){var n=Object(_.b)(e);t.dataSource=new q.k(n),t.pageNation()})),t.create=e.create,t.edit=e.edit,t.delete=e.delete,t.isHasDetail=null!=e.detail,t.tableSort=new m.a((function(t){t.next(e.sort),t.next()})),t.columns=e.columns,t.displayedColumns=ft(e.columns),t.openTableDialog.emit(gt(t.matDialog,e.columns))}))}},{key:"pageNation",value:function(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}},{key:"initDetailHandler",value:function(t){this.openDetailDialog.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||Bt)(l.Ob(st.a))},Bt.\u0275cmp=l.Ib({type:Bt,selectors:[["app-table"]],viewQuery:function(t,e){var n;1&t&&(l.xc(X.a,!0),l.xc(V.a,!0)),2&t&&(l.qc(n=l.dc())&&(e.paginator=n.first),l.qc(n=l.dc())&&(e.sort=n.first))},inputs:{grid:"grid"},outputs:{openTableDialog:"openTableDialog",openDetailDialog:"openDetailDialog"},features:[l.Ab],decls:14,vars:16,consts:[["id","btnAdd","mat-raised-button","","aria-label","Add",1,"dark-theme",2,"font-size","1em",3,"click"],["mat-table","","matSort","","multiTemplateDataRows","",3,"matSortActive","matSortDirection","dataSource","matSortChange"],["matColumnDef","maintain"],["mat-header-cell","","style","width: 20%;",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","page"],["mat-header-cell","",2,"width","20%"],["mat-cell",""],["mat-icon-button","","aria-label","Detail",3,"click",4,"ngIf"],["id","btnEdit","mat-raised-button","","color","accent","aria-label","Edit",3,"click"],["id","btnDelete","mat-raised-button","","color","warn","aria-label","Delete",3,"click"],["mat-icon-button","","aria-label","Detail",3,"click"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["matColumnDef","expandedDetail"],["mat-cell","","class","detail",4,"matCellDef"],["mat-cell","",1,"detail"],[1,"detail-element"],["class","detail-table",4,"ngIf"],[1,"detail-table"],[3,"detail","openDetailDialog"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"detail-row"]],template:function(t,e){var n,a;1&t&&(l.Ub(0,"button",0),l.cc("click",(function(){return e.create()})),l.Ac(1,"Add"),l.Tb(),l.Ub(2,"table",1),l.cc("matSortChange",(function(t){return e.sortData(t)})),l.hc(3,"async"),l.hc(4,"async"),l.Sb(5,2),l.zc(6,Pt,1,0,"th",3),l.zc(7,At,7,1,"td",4),l.Rb(),l.zc(8,St,3,1,"ng-container",5),l.zc(9,Rt,2,0,"ng-container",6),l.zc(10,zt,1,0,"tr",7),l.zc(11,Gt,1,0,"tr",8),l.zc(12,jt,1,0,"tr",9),l.Tb(),l.Ub(13,"mat-paginator",10),l.cc("page",(function(t){return e.pageData(t)})),l.Tb()),2&t&&(l.Cb(2),l.mc("matSortActive",null==(n=l.ic(3,9,e.tableSort))?null:n.active),l.mc("matSortDirection",null==(a=l.ic(4,11,e.tableSort))?null:a.direction),l.lc("dataSource",e.dataSource),l.Cb(6),l.lc("ngForOf",e.columns),l.Cb(1),l.lc("ngIf",e.isHasDetail),l.Cb(1),l.lc("matHeaderRowDef",e.displayedColumns),l.Cb(1),l.lc("matRowDefColumns",e.displayedColumns),l.Cb(1),l.lc("matRowDefColumns",e.isHasDetail?l.nc(13,Ft):l.nc(14,Et)),l.Cb(1),l.lc("pageSizeOptions",l.nc(15,Lt)))},directives:[U.a,q.j,V.a,q.c,q.e,q.b,r.j,r.k,q.g,q.i,X.a,q.d,q.a,C.a,V.b,Tt,q.f,q.h],pipes:[r.b],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}tr.detail-row[_ngcontent-%COMP%]{height:0;background-color:rgba(0,0,0,.12)}.detail[_ngcontent-%COMP%]{border-bottom:0}.detail-element[_ngcontent-%COMP%]{overflow:hidden;display:flex;padding-left:2.4%;padding-right:2.4%}.detail-table[_ngcontent-%COMP%]{width:100%;padding:5px 5px 2.5%}"],data:{animation:[Object(J.n)("detailExpand",[Object(J.k)("collapsed",Object(J.l)({height:"0px",minHeight:"0"})),Object(J.k)("expanded",Object(J.l)({height:"*"})),Object(J.m)("expanded <=> collapsed",Object(J.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]},changeDetection:0}),Bt);function Ht(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div"),l.Ub(1,"mat-card"),l.Ub(2,"app-table",1),l.cc("openTableDialog",(function(t){return l.tc(n),l.gc().openTableDialog=t})),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(2),l.lc("grid",a.myGrid)}}var $t,Vt=(($t=function(){function t(e,n){_classCallCheck(this,t),this.store=e,this.roleService=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.roleService.getAll().subscribe((function(e){t.loadGrid(e)}))}},{key:"loadGrid",value:function(t){var e=this;this.myGrid=new m.a((function(n){n.next({tableName:T.a.Users,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:H.string,selector:H.label,visible:!1,cell:function(t){return""+t.id}},{header:"Name",columnDef:"name",type:H.string,selector:H.input,cell:function(t){return""+t.name}},{header:"Password",columnDef:"password",type:H.string,selector:H.input,cell:function(t){return""+t.password}},{header:"Role",columnDef:"role",type:H.string,selector:H.select,source:function(){return e.store.dispatch(new P.k(T.a.Roles)),e.store.select(T.a.Roles)},cell:function(e){return""+(""===e.role?"":t.filter((function(t){return t.id===e.role}))[0].name)}}],read:function(){return e.store.dispatch(new P.k(T.a.Users)),e.store.select(T.a.Users)},create:function(){var t=e.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[N.a.btnCreate,N.a.btnCancel],method:N.a.create,data:{},confirm:function(){e.store.dispatch(new P.b(T.a.Users,[],t.getData()))}})},edit:function(t){var n=e.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[N.a.btnEdit,N.a.btnCancel],method:N.a.edit,data:t,confirm:function(){e.store.dispatch(new P.h(T.a.Users,[],n.getData()))}})},delete:function(t){confirm("Are you sure you want to delete this?")&&e.store.dispatch(new P.e(T.a.Users,[],t))}}),n.complete()}))}}]),t}()).\u0275fac=function(t){return new(t||$t)(l.Ob(A.h),l.Ob(h.a))},$t.\u0275cmp=l.Ib({type:$t,selectors:[["app-user"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog"]],template:function(t,e){1&t&&l.zc(0,Ht,3,1,"div",0)},directives:[$,v.a,Nt],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),$t);function qt(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div"),l.Ub(1,"mat-card"),l.Ub(2,"app-table",1),l.cc("openTableDialog",(function(t){return l.tc(n),l.gc().openTableDialog=t})),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(2),l.lc("grid",a.myGrid)}}var Xt,Jt=((Xt=function(){function t(e){_classCallCheck(this,t),this.store=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadGrid()}},{key:"loadGrid",value:function(){var t=this;this.myGrid=new m.a((function(e){e.next({tableName:T.a.Roles,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:H.string,selector:H.label,visible:!1,cell:function(t){return""+t.id}},{header:"Name",columnDef:"name",type:H.string,selector:H.input,cell:function(t){return""+t.name}},{header:"Remark",columnDef:"remark",type:H.string,selector:H.input,cell:function(t){return""+t.remark}}],read:function(){return t.store.dispatch(new P.k(T.a.Roles)),t.store.select(T.a.Roles)},create:function(){var e=t.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[N.a.btnCreate,N.a.btnCancel],method:N.a.create,data:{},confirm:function(){t.store.dispatch(new P.b(T.a.Roles,[],e.getData()))}})},edit:function(e){var n=t.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[N.a.btnEdit,N.a.btnCancel],method:N.a.edit,data:e,confirm:function(){t.store.dispatch(new P.h(T.a.Roles,[],n.getData()))}})},delete:function(e){confirm("Are you sure you want to delete this?")&&t.store.dispatch(new P.e(T.a.Roles,[],e))}}),e.complete()}))}}]),t}()).\u0275fac=function(t){return new(t||Xt)(l.Ob(A.h))},Xt.\u0275cmp=l.Ib({type:Xt,selectors:[["app-role"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog"]],template:function(t,e){1&t&&l.zc(0,qt,3,1,"div",0)},directives:[$,v.a,Nt],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),Xt),Yt=n("P5D9");function Kt(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div"),l.Ub(1,"mat-card"),l.Ub(2,"app-table",1),l.cc("openTableDialog",(function(t){return l.tc(n),l.gc().openTableDialog=t}))("openDetailDialog",(function(t){return l.tc(n),l.gc().openDetailDialog=t})),l.Tb(),l.Tb(),l.Tb()}if(2&t){var a=l.gc();l.Cb(2),l.lc("grid",a.myGrid)}}function Qt(t,e){if(1&t){var n=l.Vb();l.Ub(0,"div"),l.Ub(1,"mat-card"),l.Ub(2,"app-table",1),l.cc("openTableDialog",(function(t){return l.tc(n),l.gc().openTableDialog=t}))("openDetailDialog",(function(t){return l.tc(n),l.gc().openDetailDialog=t})),l.Tb(),l.Tb(),l.Pb(3,"div"),l.Tb()}if(2&t){var a=l.gc();l.Cb(2),l.lc("grid",a.myGrid)}}var Wt,Zt,te,ee,ne,ae,oe,re=[{path:"",component:L,canActivate:[s],children:[{path:"User",component:Vt,canActivate:[g]},{path:"Role",component:Jt,canActivate:[g]},{path:"Group",component:(te=function(){function t(e,n,a){_classCallCheck(this,t),this.store=e,this.roleService=n,this.programService=a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.roleService.getAll().subscribe((function(e){t.programService.getAll().subscribe((function(n){t.loadGrid(e,n)}))}))}},{key:"loadGrid",value:function(t,e){var n=this;this.myGrid=new m.a((function(a){a.next({tableName:T.a.Groups,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:H.string,selector:H.label,visible:!1,cell:function(t){return""+t.id}},{header:"Name",columnDef:"name",type:H.string,selector:H.input,cell:function(t){return""+t.name}},{header:"Roles",columnDef:"roles",type:H.string,selector:H.multiselect,source:function(){return n.store.dispatch(new P.k(T.a.Roles)),n.store.select(T.a.Roles)},cell:function(e){return""+e.roles.map((function(e){var n=t.filter((function(t){return t.id===e}))[0];return n?n.name:""})).join(",")}}],detail:function(t){return new m.a((function(a){a.next({tableName:T.a.GroupPrograms,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:H.string,selector:H.label,visible:!1,cell:function(t){return""+t.id}},{header:"Name",columnDef:"name",type:H.string,selector:H.input,cell:function(t){return""+t.name}},{header:"Program",columnDef:"program",type:H.string,selector:H.select,source:function(){return n.store.dispatch(new P.k(T.a.Programs)),n.store.select(T.a.Programs)},cell:function(t){var n="",a=e.filter((function(e){return e.id===t.program}));return""!==t.program&&void 0!==a&&a.length>0&&(n=a[0].name),n}},{header:"Button",columnDef:"buttons",type:H.string,selector:H.multiselect,source:function(){return n.store.select(T.a.Buttons)},cell:function(t){var n=e.filter((function(e){return e.id===t.program}));return n.length>0&&n[0].buttons&&n[0].buttons.length>0?""+t.buttons.map((function(t){var e=n[0].buttons.filter((function(e){return e.id===t}));return void 0===e?"":e[0].remark})).join(","):""}}],read:function(){return n.store.dispatch(new P.k("".concat(T.a.Groups,".").concat(T.a.GroupPrograms),[],{group:t.id})),n.store.select(T.a.GroupPrograms)},create:function(){var e=n.openDetailDialog({title:"\u65b0\u589e\u9801\u9762",button:[N.a.btnCreate,N.a.btnCancel],method:N.a.create,data:{},onChanges:function(t){"program"===t.source.ngControl.name&&n.store.dispatch(new P.k("".concat(T.a.Programs,".").concat(T.a.Buttons),[],{program:t.value}))},confirm:function(){var a=e.getData();a.group=t.id,n.store.dispatch(new P.b(T.a.GroupPrograms,[],a))}})},edit:function(t){n.store.dispatch(new P.k("".concat(T.a.Programs,".").concat(T.a.Buttons),[],{program:t.program}));var e=n.openDetailDialog({title:"\u4fee\u6539\u9801\u9762",button:[N.a.btnEdit,N.a.btnCancel],method:N.a.edit,data:t,onChanges:function(t){"program"===t.source.ngControl.name&&n.store.dispatch(new P.k("".concat(T.a.Programs,".").concat(T.a.Buttons),[],{program:t.value}))},confirm:function(){n.store.dispatch(new P.h(T.a.GroupPrograms,[],e.getData()))}})},delete:function(t){confirm("Are you sure you want to delete this?")&&n.store.dispatch(new P.e(T.a.GroupPrograms,[],t))}}),a.complete()}))},read:function(){return n.store.dispatch(new P.k(T.a.Groups)),n.store.select(T.a.Groups)},create:function(){var t=n.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[N.a.btnCreate,N.a.btnCancel],method:N.a.create,data:{},confirm:function(){n.store.dispatch(new P.b(T.a.Groups,[],t.getData()))}})},edit:function(t){var e=n.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[N.a.btnEdit,N.a.btnCancel],method:N.a.edit,data:t,confirm:function(){n.store.dispatch(new P.h(T.a.Groups,[],e.getData()))}})},delete:function(t){confirm("Are you sure you want to delete this?")&&n.store.dispatch(new P.e(T.a.Groups,[],t))}}),a.complete()}))}}]),t}(),te.\u0275fac=function(t){return new(t||te)(l.Ob(A.h),l.Ob(h.a),l.Ob(Yt.a))},te.\u0275cmp=l.Ib({type:te,selectors:[["app-group"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog","openDetailDialog"]],template:function(t,e){1&t&&l.zc(0,Kt,3,1,"div",0)},directives:[$,v.a,Nt],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),te),canActivate:[g]},{path:"Program",component:(Zt=function(){function t(e,n){_classCallCheck(this,t),this.store=e,this.groupService=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.groupService.getAll().subscribe((function(e){t.loadGrid(e)}))}},{key:"loadGrid",value:function(t){var e=this;this.myGrid=new m.a((function(n){n.next({tableName:T.a.Programs,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:H.string,selector:H.label,visible:!1,cell:function(t){return""+t.id}},{header:"Name",columnDef:"name",type:H.string,selector:H.input,cell:function(t){return""+t.name}},{header:"Remark",columnDef:"remark",type:H.string,selector:H.input,cell:function(t){return""+t.remark}},{header:"LinkTag",columnDef:"linkTag",type:H.string,selector:H.input,cell:function(t){return""+t.linkTag}},{header:"Auth",columnDef:"auth",type:H.string,selector:H.select,source:function(){return e.store.dispatch(new P.k(T.a.Groups)),e.store.select(T.a.Groups)},cell:function(e){var n="",a=t.filter((function(t){return t.id===e.auth}));return""!==e.auth&&void 0!==a&&a.length>0&&(n=a[0].name),n}}],detail:function(t){return new m.a((function(n){n.next({tableName:T.a.Buttons,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:H.string,selector:H.label,visible:!1,cell:function(t){return""+t.id}},{header:"Name",columnDef:"name",type:H.string,selector:H.input,cell:function(t){return""+t.name}},{header:"Remark",columnDef:"remark",type:H.string,selector:H.input,cell:function(t){return""+t.remark}}],read:function(){return e.store.dispatch(new P.k("".concat(T.a.Programs,".").concat(T.a.Buttons),[],{program:t.id})),e.store.select(T.a.Buttons)},create:function(){var n=e.openDetailDialog({title:"\u65b0\u589e\u9801\u9762",button:[N.a.btnCreate,N.a.btnCancel],method:N.a.create,data:{}});n.confirm=function(){var a=n.getData();a.program=t.id,e.store.dispatch(new P.b(T.a.Buttons,[],a))}},edit:function(t){var n=e.openDetailDialog({title:"\u4fee\u6539\u9801\u9762",button:[N.a.btnEdit,N.a.btnCancel],method:N.a.edit,data:t});n.confirm=function(){e.store.dispatch(new P.h(T.a.Buttons,[],n.getData()))}},delete:function(t){confirm("Are you sure you want to delete this?")&&e.store.dispatch(new P.e(T.a.Buttons,[],t))}}),n.complete()}))},read:function(){return e.store.dispatch(new P.k(T.a.Programs)),e.store.select(T.a.Programs)},create:function(){var t=e.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[N.a.btnCreate,N.a.btnCancel],method:N.a.create,data:{},confirm:function(){e.store.dispatch(new P.b(T.a.Programs,[],t.getData()))}})},edit:function(t){var n=e.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[N.a.btnEdit,N.a.btnCancel],method:N.a.edit,data:t,confirm:function(){e.store.dispatch(new P.h(T.a.Programs,[],n.getData()))}})},delete:function(t){confirm("Are you sure you want to delete this?")&&e.store.dispatch(new P.e(T.a.Programs,[],t))}}),n.complete()}))}}]),t}(),Zt.\u0275fac=function(t){return new(t||Zt)(l.Ob(A.h),l.Ob(p.a))},Zt.\u0275cmp=l.Ib({type:Zt,selectors:[["app-program"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog","openDetailDialog"]],template:function(t,e){1&t&&l.zc(0,Qt,4,1,"div",0)},directives:[$,v.a,Nt],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),Zt),canActivate:[g]},{path:"Menu",component:(Wt=function(){function t(e,n){_classCallCheck(this,t),this.store=e,this.programService=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.programService.getAll().subscribe((function(e){t.loadGrid(e)}))}},{key:"loadGrid",value:function(t){var e=this;this.myGrid=new m.a((function(n){n.next({tableName:T.a.Menus,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:H.string,selector:H.label,visible:!1,cell:function(t){return""+t.id}},{header:"Name",columnDef:"name",type:H.string,selector:H.input,cell:function(t){return""+t.name}},{header:"Program",columnDef:"program",type:H.string,selector:H.select,source:function(){return e.store.dispatch(new P.k(T.a.Programs)),e.store.select(T.a.Programs)},cell:function(e){var n="",a=t.filter((function(t){return t.id===e.program}));return""!==e.program&&void 0!==a&&a.length>0&&(n=a[0].name),n}},{header:"Button",columnDef:"buttons",type:H.string,selector:H.multiselect,source:function(){return e.store.select(T.a.Buttons)},cell:function(e){var n=t.filter((function(t){return t.id===e.program}));return n.length>0&&n[0].buttons&&n[0].buttons.length>0?""+e.buttons.map((function(t){var e=n[0].buttons.filter((function(e){return e.id===t}));return void 0===e?"":e[0].remark})).join(","):""}}],read:function(){return e.store.select(T.a.Menus)},create:function(){var t=e.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[N.a.btnCreate,N.a.btnCancel],method:N.a.create,data:{},onChanges:function(t){"program"===t.source.ngControl.name&&e.store.dispatch(new P.k("".concat(T.a.Programs,".").concat(T.a.Buttons),[],{program:t.value}))},confirm:function(){e.store.dispatch(new P.b(T.a.Menus,[],t.getData()))}})},edit:function(t){e.store.dispatch(new P.k("".concat(T.a.Programs,".").concat(T.a.Buttons),[],{program:t.program}));var n=e.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[N.a.btnEdit,N.a.btnCancel],method:N.a.edit,data:t,onChanges:function(t){"program"===t.source.ngControl.name&&e.store.dispatch(new P.k("".concat(T.a.Programs,".").concat(T.a.Buttons),[],{program:t.value}))},confirm:function(){e.store.dispatch(new P.h(T.a.Menus,[],n.getData()))}})},delete:function(t){confirm("Are you sure you want to delete this?")&&e.store.dispatch(new P.e(T.a.Menus,[],t))}}),n.complete()}))}}]),t}(),Wt.\u0275fac=function(t){return new(t||Wt)(l.Ob(A.h),l.Ob(Yt.a))},Wt.\u0275cmp=l.Ib({type:Wt,selectors:[["app-menu"]],decls:2,vars:1,consts:[[3,"grid","openTableDialog"]],template:function(t,e){1&t&&(l.Ub(0,"mat-card"),l.Ub(1,"app-table",0),l.cc("openTableDialog",(function(t){return e.openTableDialog=t})),l.Tb(),l.Tb()),2&t&&(l.Cb(1),l.lc("grid",e.myGrid))},directives:[v.a,Nt],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),Wt),canActivate:[g]},{path:"Dashboard",component:O,canActivate:[s]},{path:"",redirectTo:"Dashboard"},{path:"**",redirectTo:"Dashboard"}]}],ce=((ee=function t(){_classCallCheck(this,t)}).\u0275mod=l.Mb({type:ee}),ee.\u0275inj=l.Lb({factory:function(t){return new(t||ee)},imports:[[i.d.forChild(re)],i.d]}),ee),ie=n("mq8K"),le=((oe=function t(){_classCallCheck(this,t)}).\u0275mod=l.Mb({type:oe}),oe.\u0275inj=l.Lb({factory:function(t){return new(t||oe)},imports:[[r.c,c.d,c.l,ie.a]]}),oe),se=((ae=function t(){_classCallCheck(this,t)}).\u0275mod=l.Mb({type:ae}),ae.\u0275inj=l.Lb({factory:function(t){return new(t||ae)}}),ae),ue=((ne=function t(){_classCallCheck(this,t)}).\u0275mod=l.Mb({type:ne}),ne.\u0275inj=l.Lb({factory:function(t){return new(t||ne)},imports:[[r.c,c.d,c.l,ie.a,ce,le,se]]}),ne)}}]);