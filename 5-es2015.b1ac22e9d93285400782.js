(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{XpXM:function(t,e,n){"use strict";n.r(e),n.d(e,"MainModule",(function(){return Nt}));var a=n("ofXK"),o=n("3Pt+"),c=n("tyNb"),i=n("fXoL");let r=(()=>{class t{constructor(t){this.router=t}canActivate(){const t=localStorage.getItem("UserRole"),e=t&&t.length>0;return e?console.log("Role:"+t):(console.log("Not Login"),this.router.navigate(["/Login"])),e}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(c.a))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=n("eIep"),s=n("lJxs"),u=n("HDdC"),d=n("d3yR"),m=n("uHsu");let b=(()=>{class t{constructor(t,e,n){this.router=t,this.menuService=e,this.groupProgramService=n}canActivate(t,e){return new u.a(t=>{let n=!1;this.menuService.getAll().pipe(Object(l.a)(t=>this.groupProgramService.getAll().pipe(Object(s.a)(e=>({menus:t,groupPrograms:e}))))).subscribe(({menus:a,groupPrograms:o})=>{const c=localStorage.getItem("UserGroup"),i=e.url.split("/")[2],r=a.filter(t=>t.linkTag===i);r[0]&&r[0].program.length>0&&(n=o.filter(t=>t.group===c&&t.program===r[0].program).length>0),n||(console.log("Not Auth"),this.router.navigate(["/401"])),t.next(n),t.complete()})})}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(c.a),i.Yb(d.a),i.Yb(m.a))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=n("ohih"),p=n("NJLX"),h=n("Wp6s"),f=n("NFeN"),C=n("f0Cb");function D(t,e){if(1&t&&(i.Ub(0,"p"),i.Ac(1),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Cc(" \xa0\xa0",t.name," ")}}function v(t,e){if(1&t&&(i.Ub(0,"p"),i.Ac(1),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.Cc(" \xa0\xa0",t.linkTag," ")}}let y=(()=>{class t{constructor(t,e,n){this.groupService=t,this.roleService=e,this.groupProgramService=n}ngOnInit(){const t=localStorage.getItem("UserRole");this.role=this.roleService.getByRoleId(t),this.groups=this.groupService.getByAuth();const e=localStorage.getItem("UserGroup");this.groupPrograms=this.groupProgramService.getByGroupId(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(g.a),i.Ob(p.a),i.Ob(m.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-dashboard"]],decls:32,vars:9,consts:[[1,"container","in550-1550","theme-center"],[1,"example-card"],["mat-card-avatar",""],[1,"theme-left","container"],[4,"ngFor","ngForOf"]],template:function(t,e){var n;1&t&&(i.Ub(0,"div",0),i.Ub(1,"mat-card",1),i.Ub(2,"mat-card-header"),i.Ub(3,"mat-icon",2),i.Ac(4,"assignment_ind"),i.Tb(),i.Ub(5,"mat-card-title"),i.Ac(6,"Your Role"),i.Tb(),i.Tb(),i.Pb(7,"mat-divider"),i.Ub(8,"mat-card-content",3),i.Ub(9,"p"),i.Ac(10),i.hc(11,"async"),i.Tb(),i.Tb(),i.Tb(),i.Ub(12,"mat-card",1),i.Ub(13,"mat-card-header"),i.Ub(14,"mat-icon",2),i.Ac(15,"supervisor_account"),i.Tb(),i.Ub(16,"mat-card-title"),i.Ac(17,"Your Group"),i.Tb(),i.Tb(),i.Pb(18,"mat-divider"),i.Ub(19,"mat-card-content",3),i.zc(20,D,2,1,"p",4),i.hc(21,"async"),i.Tb(),i.Tb(),i.Ub(22,"mat-card",1),i.Ub(23,"mat-card-header"),i.Ub(24,"mat-icon",2),i.Ac(25,"airplay"),i.Tb(),i.Ub(26,"mat-card-title"),i.Ac(27,"Authorize Program"),i.Tb(),i.Tb(),i.Pb(28,"mat-divider"),i.Ub(29,"mat-card-content",3),i.zc(30,v,2,1,"p",4),i.hc(31,"async"),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.Cb(10),i.Cc(" \xa0\xa0",null==(n=i.ic(11,3,e.role))?null:n.remark," "),i.Cb(10),i.lc("ngForOf",i.ic(21,5,e.groups)),i.Cb(10),i.lc("ngForOf",i.ic(31,7,e.groupPrograms)))},directives:[h.a,h.d,f.a,h.b,h.f,C.a,h.c,a.j],pipes:[a.b],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}@media screen and (max-width:550px){mat-card.example-card[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width:550px) and (max-width:1050px){.in550-1550[_ngcontent-%COMP%]   .example-card[_ngcontent-%COMP%]{width:25%}}.example-card[_ngcontent-%COMP%]{display:inline-block;width:29%;margin-left:.1em;margin-right:.1em;vertical-align:top}.container[_ngcontent-%COMP%]{margin:3%}"]}),t})();var w=n("XpAA"),O=n("+XYJ"),T=n("UPMS"),P=n("kt0X"),k=n("/t3+"),M=n("bTqV"),U=n("XhcP"),A=n("MutI");const x=function(t){return[t]};function _(t,e){if(1&t&&(i.Ub(0,"a",10),i.Ac(1),i.Tb()),2&t){const t=e.$implicit;i.mc("id",t.name),i.lc("routerLink",i.oc(3,x,t.linkTag)),i.Cb(1),i.Bc(t.name)}}const S=function(){return["Main"]};let I=(()=>{class t{constructor(t,e,n){this.router=t,this.store=e,this.menuService=n,this.title="Authorize"}ngOnInit(){this.store.dispatch(new O.k(w.a.Menus)),this.store.select(w.a.Menus).subscribe(t=>{this.menus=this.menuService.getAuthMenus(Object(T.b)(t))})}Logout(){localStorage.clear(),this.router.navigate(["/Login"])}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(c.a),i.Ob(P.h),i.Ob(d.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-main"]],decls:22,vars:7,consts:[[1,"toolbar-header","dark-theme"],["mat-icon-button","","aria-label","Menu",1,"dark-theme",3,"click"],[3,"routerLink"],[1,"toolbar-seprator"],["mat-icon-button","","aria-label","Logout",1,"dark-theme",3,"click"],[1,"toolbar-container"],["mode","side",1,"dark-theme"],["sideNav",""],["mat-list-item","","class","dark-theme",3,"id","routerLink",4,"ngFor","ngForOf"],[1,"theme-center","display-none"],["mat-list-item","",1,"dark-theme",3,"id","routerLink"]],template:function(t,e){if(1&t){const t=i.Vb();i.Ub(0,"mat-toolbar",0),i.Ub(1,"button",1),i.cc("click",(function(){return i.tc(t),i.rc(13).toggle()})),i.Ub(2,"mat-icon"),i.Ac(3),i.Tb(),i.Tb(),i.Ac(4,"\xa0 "),i.Ub(5,"span",2),i.Ac(6),i.Tb(),i.Pb(7,"span",3),i.Ub(8,"button",4),i.cc("click",(function(){return e.Logout()})),i.Ub(9,"mat-icon"),i.Ac(10,"exit_to_app"),i.Tb(),i.Tb(),i.Tb(),i.Ub(11,"mat-sidenav-container",5),i.Ub(12,"mat-sidenav",6,7),i.Ub(14,"mat-nav-list"),i.zc(15,_,2,5,"a",8),i.hc(16,"async"),i.Tb(),i.Tb(),i.Ub(17,"mat-sidenav-content"),i.Ub(18,"div",9),i.Ub(19,"span"),i.Ac(20,"Hello!!"),i.Tb(),i.Tb(),i.Pb(21,"router-outlet"),i.Tb(),i.Tb()}if(2&t){const t=i.rc(13);i.Cb(3),i.Bc(t.opened?"close":"menu"),i.Cb(2),i.lc("routerLink",i.nc(6,S)),i.Cb(1),i.Bc(e.title),i.Cb(9),i.lc("ngForOf",i.ic(16,4,e.menus))}},directives:[k.a,M.a,f.a,c.b,U.b,U.a,A.c,a.j,U.c,c.e,A.a,c.c],pipes:[a.b],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}@media screen and (max-width:900px){mat-toolbar.toolbar-header[_ngcontent-%COMP%]{height:2em}mat-sidenav-container.toolbar-container[_ngcontent-%COMP%]{margin-top:2em}}.toolbar-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:2;height:3em;box-shadow:4px 4px 12px -2px rgba(51,51,102,.5)}.toolbar-seprator[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar-container[_ngcontent-%COMP%]{position:absolute;margin-top:3em;top:0;bottom:0;left:0;right:0}"]}),t})();var R=n("tfvo"),z=function(t){return t.string="string",t.input="input",t.label="label",t.select="select",t.multiselect="multiselect",t}({});let G=(()=>{class t{constructor(t,e,n,a){this.router=t,this.templateRef=e,this.viewContainer=n,this.groupProgramService=a,this.AuthorizeDictionary={}}ngOnInit(){this.viewContainer.createEmbeddedView(this.templateRef);const t=this.router.url.split("/")[2];this.groupProgramService.getByLink(t).subscribe(t=>{t.forEach(t=>{this.AuthorizeDictionary[t.name]=t.isEnable})})}ngAfterViewChecked(){for(const[t,e]of Object.entries(this.AuthorizeDictionary))e||this.templateRef.elementRef.nativeElement.ownerDocument.querySelectorAll(`button#${t}:not([disabled])`).forEach(t=>{t.disabled=!0})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(c.a),i.Ob(i.M),i.Ob(i.P),i.Ob(m.a))},t.\u0275dir=i.Jb({type:t,selectors:[["","appAuthorize",""]]}),t})();var $=n("Dh3D"),B=n("+0xr"),F=n("M9IT"),j=n("R0Ic");let E=(()=>{class t{constructor(t){this.viewContainerRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.P))},t.\u0275dir=i.Jb({type:t,selectors:[["","appDynamicHost",""]]}),t})();var N=n("kmnG"),L=n("qFsG");let H=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["app-input"]],decls:3,vars:2,consts:[["matInput","",3,"placeholder","ngModel","ngModelChange"]],template:function(t,e){1&t&&(i.Ub(0,"mat-form-field"),i.Ub(1,"input",0),i.cc("ngModelChange",(function(t){return e.column.value=t})),i.Tb(),i.Tb(),i.Pb(2,"br")),2&t&&(i.Cb(1),i.mc("placeholder",e.column.columnDef),i.lc("ngModel",e.column.value))},directives:[N.b,L.b,o.b,o.i,o.k],styles:[""]}),t})(),V=(()=>{class t{constructor(){}ngOnInit(){this.visible=this.column.visible||!0===this.column.visible?"":"none"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["app-label"]],decls:3,vars:3,template:function(t,e){1&t&&(i.Ub(0,"label"),i.Ac(1),i.Tb(),i.Pb(2,"br")),2&t&&(i.yc("display",e.visible),i.Cb(1),i.Cc(" ",e.column.value,"\n"))},styles:[""]}),t})();var q=n("d3UM"),X=n("FKr1");function J(t,e){if(1&t&&(i.Ub(0,"mat-option",1),i.Ac(1),i.Tb()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Cb(1),i.Cc(" ",t.name," ")}}let Y=(()=>{class t{constructor(){this.default="",this.entityToArray=t=>Object(T.b)(t)}ngOnInit(){this.source=this.column.source()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["app-select"]],decls:9,vars:7,consts:[[3,"ngModel","name","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(i.Ub(0,"mat-form-field"),i.Ub(1,"mat-label"),i.Ac(2),i.Tb(),i.Ub(3,"mat-select",0),i.cc("ngModelChange",(function(t){return e.column.value=t}))("selectionChange",(function(t){return e.onChanges(t)})),i.Ub(4,"mat-option",1),i.Ac(5,"--"),i.Tb(),i.zc(6,J,2,2,"mat-option",2),i.hc(7,"async"),i.Tb(),i.Tb(),i.Pb(8,"br")),2&t&&(i.Cb(2),i.Bc(e.column.columnDef),i.Cb(1),i.mc("name",e.column.columnDef),i.lc("ngModel",e.column.value),i.Cb(1),i.lc("value",e.default),i.Cb(2),i.lc("ngForOf",e.entityToArray(i.ic(7,5,e.source))))},directives:[N.b,N.e,q.a,o.i,o.k,X.n,a.j],pipes:[a.b],styles:[""]}),t})();function K(t,e){if(1&t&&(i.Ub(0,"mat-option",1),i.Ac(1),i.Tb()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Cb(1),i.Cc(" ",t.name," ")}}let Q=(()=>{class t{constructor(){this.default="",this.entityToArray=t=>Object(T.b)(t)}ngOnInit(){this.source=this.column.source()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["app-multiselect"]],decls:9,vars:7,consts:[["multiple","",3,"ngModel","name","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(i.Ub(0,"mat-form-field"),i.Ub(1,"mat-label"),i.Ac(2),i.Tb(),i.Ub(3,"mat-select",0),i.cc("ngModelChange",(function(t){return e.column.value=t}))("selectionChange",(function(t){return e.onChanges(t)})),i.Ub(4,"mat-option",1),i.Ac(5,"--"),i.Tb(),i.zc(6,K,2,2,"mat-option",2),i.hc(7,"async"),i.Tb(),i.Tb(),i.Pb(8,"br")),2&t&&(i.Cb(2),i.Bc(e.column.columnDef),i.Cb(1),i.mc("name",e.column.columnDef),i.lc("ngModel",e.column.value),i.Cb(1),i.lc("value",e.default),i.Cb(2),i.lc("ngForOf",e.entityToArray(i.ic(7,5,e.source))))},directives:[N.b,N.e,q.a,o.i,o.k,X.n,a.j],pipes:[a.b],styles:[""]}),t})();var W=n("0IaG");const Z=["content"];let tt=(()=>{class t{constructor(t){this.componenFactoryResolver=t,this.ComponentDictionary={}}dynamicAddComponent(t){let e;switch(t.selector){case z.input:e=this.componenFactoryResolver.resolveComponentFactory(H);break;case z.select:e=this.componenFactoryResolver.resolveComponentFactory(Y);break;case z.multiselect:e=this.componenFactoryResolver.resolveComponentFactory(Q);break;default:e=this.componenFactoryResolver.resolveComponentFactory(V)}const n=this.dynamicComponentLoader.viewContainerRef.createComponent(e),a=n.instance;a.onChanges=this.onChanges?this.onChanges:()=>{},this.ComponentDictionary[t.columnDef]=a,a.column=t,n.changeDetectorRef.detectChanges()}getData(){const t={};for(const[e,n]of Object.entries(this.ComponentDictionary))t[e]=n.column.value;return t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.j))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-dialog"]],viewQuery:function(t,e){var n;1&t&&(i.xc(E,!0),i.Ec(Z,!0)),2&t&&(i.qc(n=i.dc())&&(e.dynamicComponentLoader=n.first),i.qc(n=i.dc())&&(e.content=n.first))},decls:10,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],["content",""],["appDynamicHost",""],["align","end"],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(i.Ub(0,"h2",0),i.Ac(1),i.Tb(),i.Ub(2,"mat-dialog-content",1,2),i.Qb(4,3),i.Tb(),i.Ub(5,"mat-dialog-actions",4),i.Ub(6,"button",5),i.cc("click",(function(){return e.confirm()})),i.Ac(7),i.Tb(),i.Ub(8,"button",6),i.Ac(9),i.Tb(),i.Tb()),2&t&&(i.Cb(1),i.Bc(e.DialogData.title),i.Cb(6),i.Bc(e.DialogData.button[0]),i.Cb(1),i.lc("mat-dialog-close",!0),i.Cb(1),i.Bc(e.DialogData.button[1]))},directives:[W.f,W.d,E,W.b,M.a,W.c],styles:[""]}),t})();function et(t){console.log(t.active),console.log(t.direction)}function nt(t){console.log(t)}function at(t){const e=t.filter(t=>!(!1===t.visible)).map(t=>t.columnDef);return["maintain"].concat(e)}function ot(t,e){return n=>{const a=t.open(tt),o=a.componentInstance;return o.DialogData=n,o.onChanges=n.onChanges,o.confirm=n.confirm,o.ColumnArray=function(t,e){return void 0!==t&&e.forEach(e=>{e.value=t[e.columnDef]}),e}(n.data,e),o.ColumnArray.forEach(t=>{o.dynamicAddComponent(t)}),a.afterClosed().subscribe(t=>{console.log("Dialog result: "+t)}),o}}function ct(t,e){1&t&&i.Pb(0,"th",9)}function it(t,e){if(1&t){const t=i.Vb();i.Ub(0,"td",10),i.Ub(1,"button",11),i.cc("click",(function(n){i.tc(t);const a=e.$implicit;return i.gc().edit(a,n)})),i.Ac(2,"Edit"),i.Tb(),i.Ac(3,"\xa0 "),i.Ub(4,"button",12),i.cc("click",(function(n){i.tc(t);const a=e.$implicit;return i.gc().delete(a,n)})),i.Ac(5,"Delete"),i.Tb(),i.Tb()}}function rt(t,e){if(1&t&&(i.Ub(0,"th",15),i.Ac(1),i.Tb()),2&t){const t=i.gc().$implicit;i.Cb(1),i.Bc(t.header)}}function lt(t,e){if(1&t&&(i.Ub(0,"td",10),i.Ac(1),i.Tb()),2&t){const t=e.$implicit,n=i.gc().$implicit;i.Cb(1),i.Bc(n.cell(t))}}function st(t,e){1&t&&(i.Sb(0,13),i.zc(1,rt,2,1,"th",14),i.zc(2,lt,2,1,"td",4),i.Rb()),2&t&&i.mc("matColumnDef",e.$implicit.columnDef)}function ut(t,e){1&t&&i.Pb(0,"tr",16)}function dt(t,e){1&t&&i.Pb(0,"tr",17)}const mt=function(){return[5,10,20]};let bt=(()=>{class t{constructor(t){this.matDialog=t,this.openDetailDialog=new i.o,this.sortData=et,this.pageData=nt}ngOnInit(){this.setSource()}ngOnDestroy(){this.subscription.unsubscribe()}setSource(){this.detail.subscribe(t=>{this.subscription=t.read().subscribe(t=>{const e=Object(T.b)(t);this.dataSource=new B.k(e),this.pageNation()}),this.create=t.create,this.edit=t.edit,this.delete=t.delete,this.displayedColumns=at(t.columns),this.openDetailDialog.emit(ot(this.matDialog,t.columns))})}pageNation(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(W.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-detail"]],viewQuery:function(t,e){var n;1&t&&(i.xc(F.a,!0),i.xc($.a,!0)),2&t&&(i.qc(n=i.dc())&&(e.paginator=n.first),i.qc(n=i.dc())&&(e.sort=n.first))},inputs:{detail:"detail"},outputs:{openDetailDialog:"openDetailDialog"},decls:13,vars:14,consts:[["id","btnAdd","mat-raised-button","",1,"dark-theme",2,"font-size","1em",3,"click"],["mat-table","","matSort","",3,"matSortActive","matSortDirection","dataSource","matSortChange"],["matColumnDef","maintain"],["mat-header-cell","","style","width: 20%;",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","page"],["mat-header-cell","",2,"width","20%"],["mat-cell",""],["id","btnEdit","mat-raised-button","","color","accent",3,"click"],["id","btnDelete","mat-raised-button","","color","warn",3,"click"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t&&(i.Ub(0,"button",0),i.cc("click",(function(){return e.create()})),i.Ac(1,"Add"),i.Tb(),i.Ub(2,"table",1),i.cc("matSortChange",(function(t){return e.sortData(t)})),i.hc(3,"async"),i.hc(4,"async"),i.Sb(5,2),i.zc(6,ct,1,0,"th",3),i.zc(7,it,6,0,"td",4),i.Rb(),i.zc(8,st,3,1,"ng-container",5),i.hc(9,"async"),i.zc(10,ut,1,0,"tr",6),i.zc(11,dt,1,0,"tr",7),i.Tb(),i.Ub(12,"mat-paginator",8),i.cc("page",(function(t){return e.pageData(t)})),i.Tb()),2&t){var n,a,o;const t=null==(o=i.ic(9,11,e.detail))?null:o.columns;i.Cb(2),i.mc("matSortActive",null==(n=i.ic(3,7,e.detail))?null:n.sort.active),i.mc("matSortDirection",null==(a=i.ic(4,9,e.detail))?null:a.sort.direction),i.lc("dataSource",e.dataSource),i.Cb(6),i.lc("ngForOf",t),i.Cb(2),i.lc("matHeaderRowDef",e.displayedColumns),i.Cb(1),i.lc("matRowDefColumns",e.displayedColumns),i.Cb(1),i.lc("pageSizeOptions",i.nc(13,mt))}},directives:[M.a,B.j,$.a,B.c,B.e,B.b,a.j,B.g,B.i,F.a,B.d,B.a,$.b,B.f,B.h],pipes:[a.b],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),t})();function gt(t,e){1&t&&i.Pb(0,"th",11)}function pt(t,e){if(1&t){const t=i.Vb();i.Ub(0,"button",16),i.cc("click",(function(){i.tc(t);const e=i.gc().$implicit,n=i.gc();return n.currentElement=n.currentElement===e?null:e})),i.Ub(1,"mat-icon"),i.Ac(2),i.Tb(),i.Tb()}if(2&t){const t=i.gc().$implicit,e=i.gc();i.Cb(2),i.Bc(t==e.currentElement?"arrow_drop_down":"arrow_right")}}function ht(t,e){if(1&t){const t=i.Vb();i.Ub(0,"td",12),i.zc(1,pt,3,1,"button",13),i.Ub(2,"button",14),i.cc("click",(function(n){i.tc(t);const a=e.$implicit;return i.gc().edit(a,n)})),i.Ac(3,"Edit"),i.Tb(),i.Ac(4,"\xa0 "),i.Ub(5,"button",15),i.cc("click",(function(n){i.tc(t);const a=e.$implicit;return i.gc().delete(a,n)})),i.Ac(6,"Delete"),i.Tb(),i.Tb()}if(2&t){const t=i.gc();i.Cb(1),i.lc("ngIf",t.isHasDetail)}}function ft(t,e){if(1&t&&(i.Ub(0,"th",19),i.Ac(1),i.Tb()),2&t){const t=i.gc().$implicit;i.Cb(1),i.Bc(t.header)}}function Ct(t,e){if(1&t&&(i.Ub(0,"td",12),i.Ac(1),i.Tb()),2&t){const t=e.$implicit,n=i.gc().$implicit;i.Cb(1),i.Bc(n.cell(t))}}function Dt(t,e){1&t&&(i.Sb(0,17),i.zc(1,ft,2,1,"th",18),i.zc(2,Ct,2,1,"td",4),i.Rb()),2&t&&i.mc("matColumnDef",e.$implicit.columnDef)}function vt(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",25),i.Ub(1,"app-detail",26),i.cc("openDetailDialog",(function(e){return i.tc(t),i.gc(3).initDetailHandler(e)})),i.hc(2,"async"),i.Tb(),i.Tb()}if(2&t){const t=i.gc().$implicit,e=i.gc(2);var n=null;const a=null==(n=i.ic(2,1,e.grid))?null:n.detail(t);i.Cb(1),i.lc("detail",a)}}function yt(t,e){if(1&t&&(i.Ub(0,"td",22),i.Ub(1,"div",23),i.zc(2,vt,3,3,"div",24),i.Tb(),i.Tb()),2&t){const t=e.$implicit,n=i.gc(2);i.Db("colspan",n.displayedColumns.length),i.Cb(1),i.lc("@detailExpand",t==n.currentElement?"expanded":"collapsed"),i.Cb(1),i.lc("ngIf",t==n.currentElement)}}function wt(t,e){1&t&&(i.Sb(0,20),i.zc(1,yt,3,3,"td",21),i.Rb())}function Ot(t,e){1&t&&i.Pb(0,"tr",27)}function Tt(t,e){1&t&&i.Pb(0,"tr",28)}function Pt(t,e){1&t&&i.Pb(0,"tr",29)}const kt=function(){return["expandedDetail"]},Mt=function(){return[]},Ut=function(){return[5,10,20]};let At=(()=>{class t{constructor(t){this.matDialog=t,this.openTableDialog=new i.o,this.openDetailDialog=new i.o,this.sortData=et,this.pageData=nt}ngOnChanges(t){t.grid&&void 0!==this.grid&&this.setSource()}ngOnDestroy(){this.subscription.unsubscribe()}setSource(){this.grid.subscribe(t=>{this.subscription=t.read().subscribe(t=>{const e=Object(T.b)(t);this.dataSource=new B.k(e),this.pageNation()}),this.create=t.create,this.edit=t.edit,this.delete=t.delete,this.isHasDetail=null!=t.detail,this.tableSort=new u.a(e=>{e.next(t.sort),e.next()}),this.columns=t.columns,this.displayedColumns=at(t.columns),this.openTableDialog.emit(ot(this.matDialog,t.columns))})}pageNation(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}initDetailHandler(t){this.openDetailDialog.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(W.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-table"]],viewQuery:function(t,e){var n;1&t&&(i.xc(F.a,!0),i.xc($.a,!0)),2&t&&(i.qc(n=i.dc())&&(e.paginator=n.first),i.qc(n=i.dc())&&(e.sort=n.first))},inputs:{grid:"grid"},outputs:{openTableDialog:"openTableDialog",openDetailDialog:"openDetailDialog"},features:[i.Ab],decls:14,vars:16,consts:[["id","btnAdd","mat-raised-button","","aria-label","Add",1,"dark-theme",2,"font-size","1em",3,"click"],["mat-table","","matSort","","multiTemplateDataRows","",3,"matSortActive","matSortDirection","dataSource","matSortChange"],["matColumnDef","maintain"],["mat-header-cell","","style","width: 20%;",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","expandedDetail",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row","","class","detail-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions","page"],["mat-header-cell","",2,"width","20%"],["mat-cell",""],["mat-icon-button","","aria-label","Detail",3,"click",4,"ngIf"],["id","btnEdit","mat-raised-button","","color","accent","aria-label","Edit",3,"click"],["id","btnDelete","mat-raised-button","","color","warn","aria-label","Delete",3,"click"],["mat-icon-button","","aria-label","Detail",3,"click"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["matColumnDef","expandedDetail"],["mat-cell","","class","detail",4,"matCellDef"],["mat-cell","",1,"detail"],[1,"detail-element"],["class","detail-table",4,"ngIf"],[1,"detail-table"],[3,"detail","openDetailDialog"],["mat-header-row",""],["mat-row",""],["mat-row","",1,"detail-row"]],template:function(t,e){var n,a;1&t&&(i.Ub(0,"button",0),i.cc("click",(function(){return e.create()})),i.Ac(1,"Add"),i.Tb(),i.Ub(2,"table",1),i.cc("matSortChange",(function(t){return e.sortData(t)})),i.hc(3,"async"),i.hc(4,"async"),i.Sb(5,2),i.zc(6,gt,1,0,"th",3),i.zc(7,ht,7,1,"td",4),i.Rb(),i.zc(8,Dt,3,1,"ng-container",5),i.zc(9,wt,2,0,"ng-container",6),i.zc(10,Ot,1,0,"tr",7),i.zc(11,Tt,1,0,"tr",8),i.zc(12,Pt,1,0,"tr",9),i.Tb(),i.Ub(13,"mat-paginator",10),i.cc("page",(function(t){return e.pageData(t)})),i.Tb()),2&t&&(i.Cb(2),i.mc("matSortActive",null==(n=i.ic(3,9,e.tableSort))?null:n.active),i.mc("matSortDirection",null==(a=i.ic(4,11,e.tableSort))?null:a.direction),i.lc("dataSource",e.dataSource),i.Cb(6),i.lc("ngForOf",e.columns),i.Cb(1),i.lc("ngIf",e.isHasDetail),i.Cb(1),i.lc("matHeaderRowDef",e.displayedColumns),i.Cb(1),i.lc("matRowDefColumns",e.displayedColumns),i.Cb(1),i.lc("matRowDefColumns",e.isHasDetail?i.nc(13,kt):i.nc(14,Mt)),i.Cb(1),i.lc("pageSizeOptions",i.nc(15,Ut)))},directives:[M.a,B.j,$.a,B.c,B.e,B.b,a.j,a.k,B.g,B.i,F.a,B.d,B.a,f.a,$.b,bt,B.f,B.h],pipes:[a.b],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}tr.detail-row[_ngcontent-%COMP%]{height:0;background-color:rgba(0,0,0,.12)}.detail[_ngcontent-%COMP%]{border-bottom:0}.detail-element[_ngcontent-%COMP%]{overflow:hidden;display:flex;padding-left:2.4%;padding-right:2.4%}.detail-table[_ngcontent-%COMP%]{width:100%;padding:5px 5px 2.5%}"],data:{animation:[Object(j.n)("detailExpand",[Object(j.k)("collapsed",Object(j.l)({height:"0px",minHeight:"0"})),Object(j.k)("expanded",Object(j.l)({height:"*"})),Object(j.m)("expanded <=> collapsed",Object(j.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]},changeDetection:0}),t})();function xt(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div"),i.Ub(1,"mat-card"),i.Ub(2,"app-table",1),i.cc("openTableDialog",(function(e){return i.tc(t),i.gc().openTableDialog=e})),i.Tb(),i.Tb(),i.Tb()}if(2&t){const t=i.gc();i.Cb(2),i.lc("grid",t.myGrid)}}let _t=(()=>{class t{constructor(t,e){this.store=t,this.roleService=e}ngOnInit(){this.roleService.getAll().subscribe(t=>{this.loadGrid(t)})}loadGrid(t){this.myGrid=new u.a(e=>{e.next({tableName:w.a.Users,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:z.string,selector:z.label,visible:!1,cell:t=>""+t.id},{header:"Name",columnDef:"name",type:z.string,selector:z.input,cell:t=>""+t.name},{header:"Password",columnDef:"password",type:z.string,selector:z.input,cell:t=>""+t.password},{header:"Role",columnDef:"role",type:z.string,selector:z.select,source:()=>(this.store.dispatch(new O.k(w.a.Roles)),this.store.select(w.a.Roles)),cell:e=>""+(""===e.role?"":t.filter(t=>t.id===e.role)[0].name)}],read:()=>(this.store.dispatch(new O.k(w.a.Users)),this.store.select(w.a.Users)),create:()=>{const t=this.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[R.a.btnCreate,R.a.btnCancel],method:R.a.create,data:{},confirm:()=>{this.store.dispatch(new O.b(w.a.Users,[],t.getData()))}})},edit:t=>{const e=this.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[R.a.btnEdit,R.a.btnCancel],method:R.a.edit,data:t,confirm:()=>{this.store.dispatch(new O.h(w.a.Users,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new O.e(w.a.Users,[],t))}}),e.complete()})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(P.h),i.Ob(p.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-user"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog"]],template:function(t,e){1&t&&i.zc(0,xt,3,1,"div",0)},directives:[G,h.a,At],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),t})();function St(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div"),i.Ub(1,"mat-card"),i.Ub(2,"app-table",1),i.cc("openTableDialog",(function(e){return i.tc(t),i.gc().openTableDialog=e})),i.Tb(),i.Tb(),i.Tb()}if(2&t){const t=i.gc();i.Cb(2),i.lc("grid",t.myGrid)}}let It=(()=>{class t{constructor(t){this.store=t}ngOnInit(){this.loadGrid()}loadGrid(){this.myGrid=new u.a(t=>{t.next({tableName:w.a.Roles,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:z.string,selector:z.label,visible:!1,cell:t=>""+t.id},{header:"Name",columnDef:"name",type:z.string,selector:z.input,cell:t=>""+t.name},{header:"Remark",columnDef:"remark",type:z.string,selector:z.input,cell:t=>""+t.remark}],read:()=>(this.store.dispatch(new O.k(w.a.Roles)),this.store.select(w.a.Roles)),create:()=>{const t=this.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[R.a.btnCreate,R.a.btnCancel],method:R.a.create,data:{},confirm:()=>{this.store.dispatch(new O.b(w.a.Roles,[],t.getData()))}})},edit:t=>{const e=this.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[R.a.btnEdit,R.a.btnCancel],method:R.a.edit,data:t,confirm:()=>{this.store.dispatch(new O.h(w.a.Roles,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new O.e(w.a.Roles,[],t))}}),t.complete()})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(P.h))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-role"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog"]],template:function(t,e){1&t&&i.zc(0,St,3,1,"div",0)},directives:[G,h.a,At],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),t})();var Rt=n("P5D9");function zt(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div"),i.Ub(1,"mat-card"),i.Ub(2,"app-table",1),i.cc("openTableDialog",(function(e){return i.tc(t),i.gc().openTableDialog=e}))("openDetailDialog",(function(e){return i.tc(t),i.gc().openDetailDialog=e})),i.Tb(),i.Tb(),i.Tb()}if(2&t){const t=i.gc();i.Cb(2),i.lc("grid",t.myGrid)}}function Gt(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div"),i.Ub(1,"mat-card"),i.Ub(2,"app-table",1),i.cc("openTableDialog",(function(e){return i.tc(t),i.gc().openTableDialog=e}))("openDetailDialog",(function(e){return i.tc(t),i.gc().openDetailDialog=e})),i.Tb(),i.Tb(),i.Pb(3,"div"),i.Tb()}if(2&t){const t=i.gc();i.Cb(2),i.lc("grid",t.myGrid)}}const $t=[{path:"",component:I,canActivate:[r],children:[{path:"User",component:_t,canActivate:[b]},{path:"Role",component:It,canActivate:[b]},{path:"Group",component:(()=>{class t{constructor(t,e,n){this.store=t,this.roleService=e,this.programService=n}ngOnInit(){this.roleService.getAll().subscribe(t=>{this.programService.getAll().subscribe(e=>{this.loadGrid(t,e)})})}loadGrid(t,e){this.myGrid=new u.a(n=>{n.next({tableName:w.a.Groups,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:z.string,selector:z.label,visible:!1,cell:t=>""+t.id},{header:"Name",columnDef:"name",type:z.string,selector:z.input,cell:t=>""+t.name},{header:"Roles",columnDef:"roles",type:z.string,selector:z.multiselect,source:()=>(this.store.dispatch(new O.k(w.a.Roles)),this.store.select(w.a.Roles)),cell:e=>""+e.roles.map(e=>{const n=t.filter(t=>t.id===e)[0];return n?n.name:""}).join(",")}],detail:t=>new u.a(n=>{n.next({tableName:w.a.GroupPrograms,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:z.string,selector:z.label,visible:!1,cell:t=>""+t.id},{header:"Name",columnDef:"name",type:z.string,selector:z.input,cell:t=>""+t.name},{header:"Program",columnDef:"program",type:z.string,selector:z.select,source:()=>(this.store.dispatch(new O.k(w.a.Programs)),this.store.select(w.a.Programs)),cell:t=>{let n="";const a=e.filter(e=>e.id===t.program);return""!==t.program&&void 0!==a&&a.length>0&&(n=a[0].name),n}},{header:"Button",columnDef:"buttons",type:z.string,selector:z.multiselect,source:()=>this.store.select(w.a.Buttons),cell:t=>{const n=e.filter(e=>e.id===t.program);return n.length>0&&n[0].buttons&&n[0].buttons.length>0?""+t.buttons.map(t=>{const e=n[0].buttons.filter(e=>e.id===t);return void 0===e?"":e[0].remark}).join(","):""}}],read:()=>(this.store.dispatch(new O.k(`${w.a.Groups}.${w.a.GroupPrograms}`,[],{group:t.id})),this.store.select(w.a.GroupPrograms)),create:()=>{const e=this.openDetailDialog({title:"\u65b0\u589e\u9801\u9762",button:[R.a.btnCreate,R.a.btnCancel],method:R.a.create,data:{},onChanges:t=>{"program"===t.source.ngControl.name&&this.store.dispatch(new O.k(`${w.a.Programs}.${w.a.Buttons}`,[],{program:t.value}))},confirm:()=>{const n=e.getData();n.group=t.id,this.store.dispatch(new O.b(w.a.GroupPrograms,[],n))}})},edit:t=>{this.store.dispatch(new O.k(`${w.a.Programs}.${w.a.Buttons}`,[],{program:t.program}));const e=this.openDetailDialog({title:"\u4fee\u6539\u9801\u9762",button:[R.a.btnEdit,R.a.btnCancel],method:R.a.edit,data:t,onChanges:t=>{"program"===t.source.ngControl.name&&this.store.dispatch(new O.k(`${w.a.Programs}.${w.a.Buttons}`,[],{program:t.value}))},confirm:()=>{this.store.dispatch(new O.h(w.a.GroupPrograms,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new O.e(w.a.GroupPrograms,[],t))}}),n.complete()}),read:()=>(this.store.dispatch(new O.k(w.a.Groups)),this.store.select(w.a.Groups)),create:()=>{const t=this.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[R.a.btnCreate,R.a.btnCancel],method:R.a.create,data:{},confirm:()=>{this.store.dispatch(new O.b(w.a.Groups,[],t.getData()))}})},edit:t=>{const e=this.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[R.a.btnEdit,R.a.btnCancel],method:R.a.edit,data:t,confirm:()=>{this.store.dispatch(new O.h(w.a.Groups,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new O.e(w.a.Groups,[],t))}}),n.complete()})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(P.h),i.Ob(p.a),i.Ob(Rt.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-group"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog","openDetailDialog"]],template:function(t,e){1&t&&i.zc(0,zt,3,1,"div",0)},directives:[G,h.a,At],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),canActivate:[b]},{path:"Program",component:(()=>{class t{constructor(t,e){this.store=t,this.groupService=e}ngOnInit(){this.groupService.getAll().subscribe(t=>{this.loadGrid(t)})}loadGrid(t){this.myGrid=new u.a(e=>{e.next({tableName:w.a.Programs,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:z.string,selector:z.label,visible:!1,cell:t=>""+t.id},{header:"Name",columnDef:"name",type:z.string,selector:z.input,cell:t=>""+t.name},{header:"Remark",columnDef:"remark",type:z.string,selector:z.input,cell:t=>""+t.remark},{header:"LinkTag",columnDef:"linkTag",type:z.string,selector:z.input,cell:t=>""+t.linkTag},{header:"Auth",columnDef:"auth",type:z.string,selector:z.select,source:()=>(this.store.dispatch(new O.k(w.a.Groups)),this.store.select(w.a.Groups)),cell:e=>{let n="";const a=t.filter(t=>t.id===e.auth);return""!==e.auth&&void 0!==a&&a.length>0&&(n=a[0].name),n}}],detail:t=>new u.a(e=>{e.next({tableName:w.a.Buttons,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:z.string,selector:z.label,visible:!1,cell:t=>""+t.id},{header:"Name",columnDef:"name",type:z.string,selector:z.input,cell:t=>""+t.name},{header:"Remark",columnDef:"remark",type:z.string,selector:z.input,cell:t=>""+t.remark}],read:()=>(this.store.dispatch(new O.k(`${w.a.Programs}.${w.a.Buttons}`,[],{program:t.id})),this.store.select(w.a.Buttons)),create:()=>{const e=this.openDetailDialog({title:"\u65b0\u589e\u9801\u9762",button:[R.a.btnCreate,R.a.btnCancel],method:R.a.create,data:{}});e.confirm=()=>{const n=e.getData();n.program=t.id,this.store.dispatch(new O.b(w.a.Buttons,[],n))}},edit:t=>{const e=this.openDetailDialog({title:"\u4fee\u6539\u9801\u9762",button:[R.a.btnEdit,R.a.btnCancel],method:R.a.edit,data:t});e.confirm=()=>{this.store.dispatch(new O.h(w.a.Buttons,[],e.getData()))}},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new O.e(w.a.Buttons,[],t))}}),e.complete()}),read:()=>(this.store.dispatch(new O.k(w.a.Programs)),this.store.select(w.a.Programs)),create:()=>{const t=this.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[R.a.btnCreate,R.a.btnCancel],method:R.a.create,data:{},confirm:()=>{this.store.dispatch(new O.b(w.a.Programs,[],t.getData()))}})},edit:t=>{const e=this.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[R.a.btnEdit,R.a.btnCancel],method:R.a.edit,data:t,confirm:()=>{this.store.dispatch(new O.h(w.a.Programs,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new O.e(w.a.Programs,[],t))}}),e.complete()})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(P.h),i.Ob(g.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-program"]],decls:1,vars:0,consts:[[4,"appAuthorize"],[3,"grid","openTableDialog","openDetailDialog"]],template:function(t,e){1&t&&i.zc(0,Gt,4,1,"div",0)},directives:[G,h.a,At],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),canActivate:[b]},{path:"Menu",component:(()=>{class t{constructor(t,e){this.store=t,this.programService=e}ngOnInit(){this.programService.getAll().subscribe(t=>{this.loadGrid(t)})}loadGrid(t){this.myGrid=new u.a(e=>{e.next({tableName:w.a.Menus,sort:{active:"id",direction:"asc"},columns:[{header:"Id",columnDef:"id",type:z.string,selector:z.label,visible:!1,cell:t=>""+t.id},{header:"Name",columnDef:"name",type:z.string,selector:z.input,cell:t=>""+t.name},{header:"Program",columnDef:"program",type:z.string,selector:z.select,source:()=>(this.store.dispatch(new O.k(w.a.Programs)),this.store.select(w.a.Programs)),cell:e=>{let n="";const a=t.filter(t=>t.id===e.program);return""!==e.program&&void 0!==a&&a.length>0&&(n=a[0].name),n}},{header:"Button",columnDef:"buttons",type:z.string,selector:z.multiselect,source:()=>this.store.select(w.a.Buttons),cell:e=>{const n=t.filter(t=>t.id===e.program);return n.length>0&&n[0].buttons&&n[0].buttons.length>0?""+e.buttons.map(t=>{const e=n[0].buttons.filter(e=>e.id===t);return void 0===e?"":e[0].remark}).join(","):""}}],read:()=>this.store.select(w.a.Menus),create:()=>{const t=this.openTableDialog({title:"\u65b0\u589e\u9801\u9762",button:[R.a.btnCreate,R.a.btnCancel],method:R.a.create,data:{},onChanges:t=>{"program"===t.source.ngControl.name&&this.store.dispatch(new O.k(`${w.a.Programs}.${w.a.Buttons}`,[],{program:t.value}))},confirm:()=>{this.store.dispatch(new O.b(w.a.Menus,[],t.getData()))}})},edit:t=>{this.store.dispatch(new O.k(`${w.a.Programs}.${w.a.Buttons}`,[],{program:t.program}));const e=this.openTableDialog({title:"\u4fee\u6539\u9801\u9762",button:[R.a.btnEdit,R.a.btnCancel],method:R.a.edit,data:t,onChanges:t=>{"program"===t.source.ngControl.name&&this.store.dispatch(new O.k(`${w.a.Programs}.${w.a.Buttons}`,[],{program:t.value}))},confirm:()=>{this.store.dispatch(new O.h(w.a.Menus,[],e.getData()))}})},delete:t=>{confirm("Are you sure you want to delete this?")&&this.store.dispatch(new O.e(w.a.Menus,[],t))}}),e.complete()})}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(P.h),i.Ob(Rt.a))},t.\u0275cmp=i.Ib({type:t,selectors:[["app-menu"]],decls:2,vars:1,consts:[[3,"grid","openTableDialog"]],template:function(t,e){1&t&&(i.Ub(0,"mat-card"),i.Ub(1,"app-table",0),i.cc("openTableDialog",(function(t){return e.openTableDialog=t})),i.Tb(),i.Tb()),2&t&&(i.Cb(1),i.lc("grid",e.myGrid))},directives:[h.a,At],styles:[".dark-theme[_ngcontent-%COMP%]{background-color:#221b2e;color:#fff}.theme-center[_ngcontent-%COMP%]{text-align:center}.theme-left[_ngcontent-%COMP%]{text-align:left}.theme-right[_ngcontent-%COMP%]{text-align:right}.display-none[_ngcontent-%COMP%]{display:none}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),canActivate:[b]},{path:"Dashboard",component:y,canActivate:[r]},{path:"",redirectTo:"Dashboard"},{path:"**",redirectTo:"Dashboard"}]}];let Bt=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[c.d.forChild($t)],c.d]}),t})();var Ft=n("mq8K");let jt=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[a.c,o.d,o.l,Ft.a]]}),t})(),Et=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)}}),t})(),Nt=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[a.c,o.d,o.l,Ft.a,Bt,jt,Et]]}),t})()}}]);